import { action } from '@storybook/addon-actions'
import { color, number, text, withKnobs } from '@storybook/addon-knobs'
import { linkTo } from '@storybook/addon-links'
import { storiesOf } from '@storybook/react'
import { Welcome } from '@storybook/react/demo'
import React from 'react'
import '../assets/global.scss'
import Button from '../components/dom-elements/Button'
import Checkbox from '../components/dom-elements/Checkbox'
import EventNotification from '../components/dom-elements/EventNotification'
import Input from '../components/dom-elements/Input'

const stories = storiesOf('Storybook Knobx', module)

stories.addDecorator(withKnobs)

storiesOf('Welcome', module).add('to Storybook', () => (
  <Welcome showApp={linkTo('Button')} />
))

storiesOf('Button', module).add('Normal button', () => (
  <Button onClick={action('Button clicked')}>This is a button</Button>
))

storiesOf('Checkbox', module).add('Normal Checkbox', () => (
  <Checkbox>This is a checkbox</Checkbox>
))

storiesOf('Input', module).add('Normal Input', () => <Input />)

// return {
//   vin,
//   timestamp: timestamp(),
//   fuel: fuelLevel(),
//   wiperFluid: wiperFluid(),
//   location: location(),
// }

const percentageKnobConfig = {
  min: 0,
  max: 1,
  step: 0.01,
  range: true,
}

storiesOf('EventNotification', module)
  .addDecorator(withKnobs)
  .add('Event Notification Message', () => (
    <EventNotification
      color={color('Color', '#00c3e8')}
      carEvent={{
        vin: text('VIN', 'ABCDEFG0123456789'),
        timestamp: Date.now(),
        fuel: number('Fuel', 0.1, percentageKnobConfig),
        wiperFluid: number('Wiper Fluid', 0.2, percentageKnobConfig),
        location: { lat: 34.394349, lng: 35.349884 },
      }}
    />
  ))
